(()=>{function e(e,t,n,u,r,a,o){try{var i=e[a](o),d=i.value}catch(e){return void n(e)}i.done?t(d):Promise.resolve(d).then(u,r)}var t=document.querySelector("video"),n=document.getElementById("play"),u=n.querySelector("i"),r=document.getElementById("mute"),a=r.querySelector("i"),o=document.getElementById("volume"),i=document.getElementById("currentTime"),d=document.getElementById("totalTime"),c=document.getElementById("timeline"),l=document.getElementById("fullScreen"),s=l.querySelector("i"),m=document.getElementById("videoContainer"),f=document.getElementById("videoControls"),v=document.querySelector("textarea"),y=null,p=null,E=.5;t.volume=E;var L=function(e){t.paused?t.play():t.pause(),u.classList=t.paused?"fas fa-play":"fas fa-hamburger fa-2xl"},g=function(e){t.muted?(t.muted=!1,t.volume=E,o.value=E):(t.muted=!0,o.value=0),a.classList=t.muted?"fas fa-volume-mute":"fas fa-volume-up"},h=function(e){return new Date(1e3*e).toISOString().substr(14,5)},T=function(){var n,u=(n=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readyState;case 2:e.t0=e.sent,e.t0,t.duration==1/0&&(t.currentTime=1e101,t.ontimeupdate=function(){this.ontimeupdate=function(){},t.currentTime=0}),d.innerText=h(Math.floor(t.duration)),c.max=Math.floor(t.duration);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,u=arguments;return new Promise((function(r,a){var o=n.apply(t,u);function i(t){e(o,r,a,i,d,"next",t)}function d(t){e(o,r,a,i,d,"throw",t)}i(void 0)}))});return function(){return u.apply(this,arguments)}}(),S=function(){return f.classList.remove("showing")};n.addEventListener("click",L),r.addEventListener("click",g),o.addEventListener("input",(function(e){var n=e.target.value;t.muted&&(t.muted=!1,a.classList="fas fa-volume-up"),E=n,t.volume=E})),t.addEventListener("loadeddata",T),t.addEventListener("timeupdate",(function(){i.innerText=h(Math.floor(t.currentTime)),c.value=Math.floor(t.currentTime)})),c.addEventListener("input",(function(e){t.currentTime=e.target.value})),l.addEventListener("click",(function(){document.fullscreenElement?(document.exitFullscreen(),s.classList="fas fa-expand"):(m.requestFullscreen(),s.classList="fas fa-compress")})),m.addEventListener("mousemove",(function(){y&&(clearTimeout(y),y=null),f.classList.add("showing"),p&&(clearTimeout(p),p=null),p=setTimeout(S,1200)})),m.addEventListener("mouseleave",(function(){y=setTimeout(S,1e3)})),document.addEventListener("keydown",(function(e){e.target!==v&&(" "===e.key&&(e.preventDefault(),L()),"m"===e.key&&g())})),t.addEventListener("click",L),t.addEventListener("ended",(function(){var e=m.dataset.videoid;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),4===t.readyState&&T()})();